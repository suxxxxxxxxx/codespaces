{"remainingRequest":"C:\\Users\\86157\\Desktop\\vue3\\zhihu\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86157\\Desktop\\vue3\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\86157\\Desktop\\vue3\\zhihu\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\86157\\Desktop\\vue3\\zhihu\\src\\pages\\Detail.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86157\\Desktop\\vue3\\zhihu\\src\\pages\\Detail.vue","mtime":1713190488549},{"path":"C:\\Users\\86157\\Desktop\\vue3\\zhihu\\babel.config.js","mtime":1713190411782},{"path":"C:\\Users\\86157\\Desktop\\vue3\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86157\\Desktop\\vue3\\zhihu\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\86157\\Desktop\\vue3\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86157\\Desktop\\vue3\\zhihu\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvODYxNTcvRGVza3RvcC92dWUzL3poaWh1L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzLzg2MTU3L0Rlc2t0b3AvdnVlMy96aGlodS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVJvdXRlIH0gZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCB7IHJlYWN0aXZlLCB0b1JlZnMsIG9uQmVmb3JlTW91bnQsIG9uQmVmb3JlVW5tb3VudCwgb25VcGRhdGVkLCBjb21wdXRlZCB9IGZyb20gInZ1ZSI7CmltcG9ydCBhcGkgZnJvbSAiQC9hcGkvaW5kZXgiOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBUb2FzdCB9IGZyb20gInZhbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRldGFpbCIsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpLAogICAgICAgIHJvdXRlID0gdXNlUm91dGUoKSwKICAgICAgICBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICB2YXIgc3RhdGUgPSByZWFjdGl2ZSh7CiAgICAgIGNvbW1lbnRzOiAwLAogICAgICBwb3B1bGFyaXR5OiAwLAogICAgICBuZXdzSW5mbzogbnVsbAogICAgfSk7CiAgICB2YXIgaXNTdG9yZSA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zdG9yZSRzdGF0ZSA9IHN0b3JlLnN0YXRlLAogICAgICAgICAgaXNMb2dpbiA9IF9zdG9yZSRzdGF0ZS5pc0xvZ2luLAogICAgICAgICAgc3RvcmVMaXN0ID0gX3N0b3JlJHN0YXRlLnN0b3JlTGlzdDsKCiAgICAgIGlmIChpc0xvZ2luKSB7CiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHN0b3JlTGlzdCkpIHN0b3JlTGlzdCA9IFtdOwogICAgICAgIHJldHVybiBzdG9yZUxpc3Quc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuICtpdGVtLm5ld3MuaWQgPT09ICtyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0pOwogICAgb25CZWZvcmVNb3VudCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmICghKHN0b3JlLnN0YXRlLmlzTG9naW4gPT09IG51bGwpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCJjaGFuZ2VJc0xvZ2luQXN5bmMiKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBpZiAoc3RvcmUuc3RhdGUuaXNMb2dpbikgewogICAgICAgICAgICAgICAgaWYgKHN0b3JlLnN0YXRlLmluZm8gPT09IG51bGwpIHN0b3JlLmRpc3BhdGNoKCJjaGFuZ2VJbmZvQXN5bmMiKTsKICAgICAgICAgICAgICAgIGlmIChzdG9yZS5zdGF0ZS5zdG9yZUxpc3QgPT09IG51bGwpIHN0b3JlLmRpc3BhdGNoKCJjaGFuZ2VTdG9yZUxpc3RBc3luYyIpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkpOwoKICAgIHZhciBzdG9yZUhhbmRsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF95aWVsZCRhcGkkc3RvcmUsIGNvZGU7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoc3RvcmUuc3RhdGUuaXNMb2dpbikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIFRvYXN0KCLlsI/kuLvvvIzor7flhYjnmbvlvZXlk6Z+Iik7CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIHBhdGg6ICIvbG9naW4iLAogICAgICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgICAgIGZyb206ICJkZXRhaWwvIi5jb25jYXQocm91dGUucGFyYW1zLmlkKQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgaWYgKCFpc1N0b3JlLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBpLnN0b3JlKHJvdXRlLnBhcmFtcy5pZCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF95aWVsZCRhcGkkc3RvcmUgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvZGUgPSBfeWllbGQkYXBpJHN0b3JlLmNvZGU7CgogICAgICAgICAgICAgICAgaWYgKCEoK2NvZGUgIT09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIFRvYXN0KCLlsI/kuLvvvIzlvojpgZfmhr7vvIzmlLbol4/lpLHotKV+Iik7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBUb2FzdCgi5bCP5Li75b6I5qOS77yM5pS26JeP5oiQ5Yqf5LqGfiIpOwogICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goImNoYW5nZVN0b3JlTGlzdEFzeW5jIik7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gc3RvcmVIYW5kbGUoKSB7CiAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgb25CZWZvcmVNb3VudCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBpZCwgcmVzdWx0LCBsaW5rLCBfeWllbGQkYXBpJHF1ZXJ5TmV3c1MsIHBvcHVsYXJpdHksIGNvbW1lbnRzOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZCA9IHJvdXRlLnBhcmFtcy5pZDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGFwaS5xdWVyeU5ld3NJbmZvKGlkKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBzdGF0ZS5uZXdzSW5mbyA9IHJlc3VsdDsgLy8g5Yqo5oCB5Yib5bu6Q1NTCgogICAgICAgICAgICAgIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIik7CiAgICAgICAgICAgICAgbGluay5pZCA9ICJsaW5rIjsKICAgICAgICAgICAgICBsaW5rLnJlbCA9ICJzdHlsZXNoZWV0IjsKICAgICAgICAgICAgICBsaW5rLmhyZWYgPSBzdGF0ZS5uZXdzSW5mby5jc3NbMF07CiAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rKTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEyOwogICAgICAgICAgICAgIHJldHVybiBhcGkucXVlcnlOZXdzU3RvcnkoaWQpOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfeWllbGQkYXBpJHF1ZXJ5TmV3c1MgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBwb3B1bGFyaXR5ID0gX3lpZWxkJGFwaSRxdWVyeU5ld3NTLnBvcHVsYXJpdHk7CiAgICAgICAgICAgICAgY29tbWVudHMgPSBfeWllbGQkYXBpJHF1ZXJ5TmV3c1MuY29tbWVudHM7CiAgICAgICAgICAgICAgc3RhdGUucG9wdWxhcml0eSA9IHBvcHVsYXJpdHk7CiAgICAgICAgICAgICAgc3RhdGUuY29tbWVudHMgPSBjb21tZW50czsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSkpOwogICAgb25VcGRhdGVkKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGltZ1BsYWNlSG9sZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmltZy1wbGFjZS1ob2xkZXIiKTsKCiAgICAgIGlmIChpbWdQbGFjZUhvbGRlcikgewogICAgICAgIGlmIChpbWdQbGFjZUhvbGRlci5pbm5lckhUTUwudHJpbSgpID09PSAiIikgewogICAgICAgICAgaW1nUGxhY2VIb2xkZXIuaW5uZXJIVE1MICs9ICI8aW1nIHNyYz1cIiIuY29uY2F0KHN0YXRlLm5ld3NJbmZvLmltYWdlLCAiXCIgYWx0PVwiXCIvPiIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICBvbkJlZm9yZVVubW91bnQoZnVuY3Rpb24gKCkgewogICAgICB2YXIgbGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsaW5rIik7CiAgICAgIGlmICghbGluaykgcmV0dXJuOwogICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKGxpbmspOwogICAgfSk7CgogICAgdmFyIGhhbmRsZSA9IGZ1bmN0aW9uIGhhbmRsZSgpIHsKICAgICAgcm91dGVyLmJhY2soKTsKICAgIH07CgogICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdG9SZWZzKHN0YXRlKSksIHt9LCB7CiAgICAgIGlzU3RvcmU6IGlzU3RvcmUsCiAgICAgIGhhbmRsZTogaGFuZGxlLAogICAgICBzdG9yZUhhbmRsZTogc3RvcmVIYW5kbGUKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["C:\\Users\\86157\\Desktop\\vue3\\zhihu\\src\\pages\\Detail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <van-skeleton title :row=\"5\" v-if=\"newsInfo === null\" />\n  <div class=\"content\" v-else v-html=\"newsInfo.body\"></div>\n  <div class=\"nav-box\">\n    <van-icon name=\"arrow-left\" @click=\"handle\"></van-icon>\n    <van-icon name=\"comment-o\" :badge=\"comments\"></van-icon>\n    <van-icon name=\"good-job-o\" :badge=\"popularity\"></van-icon>\n    <van-icon\n      name=\"star-o\"\n      :color=\"isStore ? '#1989fa' : '#000'\"\n      @click=\"storeHandle\"\n    ></van-icon>\n    <van-icon name=\"share-o\" color=\"#ccc\"></van-icon>\n  </div>\n</template>\n\n<script>\nimport { useRouter, useRoute } from \"vue-router\";\nimport {\n  reactive,\n  toRefs,\n  onBeforeMount,\n  onBeforeUnmount,\n  onUpdated,\n  computed,\n} from \"vue\";\nimport api from \"@/api/index\";\nimport { useStore } from \"vuex\";\nimport { Toast } from \"vant\";\n\nexport default {\n  name: \"Detail\",\n  setup() {\n    const router = useRouter(),\n      route = useRoute(),\n      store = useStore();\n    let state = reactive({\n      comments: 0,\n      popularity: 0,\n      newsInfo: null,\n    });\n\n    let isStore = computed(() => {\n      let { isLogin, storeList } = store.state;\n      if (isLogin) {\n        if (!Array.isArray(storeList)) storeList = [];\n        return storeList.some((item) => {\n          return +item.news.id === +route.params.id;\n        });\n      }\n      return false;\n    });\n    onBeforeMount(async () => {\n      if (store.state.isLogin === null) {\n        await store.dispatch(\"changeIsLoginAsync\");\n      }\n      if (store.state.isLogin) {\n        if (store.state.info === null) store.dispatch(\"changeInfoAsync\");\n        if (store.state.storeList === null)\n          store.dispatch(\"changeStoreListAsync\");\n      }\n    });\n    const storeHandle = async () => {\n      if (!store.state.isLogin) {\n        Toast(\"小主，请先登录哦~\");\n        router.push({\n          path: \"/login\",\n          query: {\n            from: `detail/${route.params.id}`,\n          },\n        });\n        return;\n      }\n      if (isStore.value) return;\n      let { code } = await api.store(route.params.id);\n      if (+code !== 0) {\n        Toast(\"小主，很遗憾，收藏失败~\");\n        return;\n      }\n      Toast(\"小主很棒，收藏成功了~\");\n      store.dispatch(\"changeStoreListAsync\");\n    };\n\n    onBeforeMount(async () => {\n      let id = route.params.id;\n      let result = await api.queryNewsInfo(id);\n      state.newsInfo = result;\n      // 动态创建CSS\n      let link = document.createElement(\"link\");\n      link.id = \"link\";\n      link.rel = \"stylesheet\";\n      link.href = state.newsInfo.css[0];\n      document.head.appendChild(link);\n      let { popularity, comments } = await api.queryNewsStory(id);\n      state.popularity = popularity;\n      state.comments = comments;\n    });\n    onUpdated(() => {\n      let imgPlaceHolder = document.querySelector(\".img-place-holder\");\n      if (imgPlaceHolder) {\n        if (imgPlaceHolder.innerHTML.trim() === \"\") {\n          imgPlaceHolder.innerHTML += `<img src=\"${state.newsInfo.image}\" alt=\"\"/>`;\n        }\n      }\n    });\n    onBeforeUnmount(() => {\n      let link = document.getElementById(\"link\");\n      if (!link) return;\n      document.head.removeChild(link);\n    });\n\n    const handle = () => {\n      router.back();\n    };\n\n    return {\n      ...toRefs(state),\n      isStore,\n      handle,\n      storeHandle,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.content {\n  background: #fff;\n  padding-bottom: 50px;\n  margin: 0;\n\n  /deep/ .img-place-holder {\n    height: 375px;\n    overflow: hidden;\n    img {\n      display: block;\n      margin: 0;\n      width: 100%;\n      min-height: 100%;\n    }\n  }\n}\n\n.van-skeleton {\n  padding: 30px 15px;\n}\n\n.nav-box {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n  padding: 0 15px;\n  width: 100%;\n  height: 50px;\n  background: #f4f4f4;\n\n  .van-icon:nth-child(1) {\n    position: relative;\n    &::after {\n      position: absolute;\n      top: -10%;\n      right: -15px;\n      content: \"\";\n      width: 1px;\n      height: 120%;\n      background: #d5d5d5;\n    }\n  }\n\n  /deep/ .van-badge {\n    background-color: transparent;\n    border: none;\n    color: #000;\n    right: -5px;\n  }\n}\n</style>"],"sourceRoot":""}]}